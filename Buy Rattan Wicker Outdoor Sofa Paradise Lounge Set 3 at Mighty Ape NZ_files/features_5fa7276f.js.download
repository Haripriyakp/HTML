MA.ProductFeature=function(){'use strict';var $container;var layoutType=null;var responsiveConfig;var carouselOptions;var init=function(selectedContainer,layout){$container=$(selectedContainer);layoutType=layout;var $featureContainer=$container.closest('.scrollable-list');if($featureContainer.hasClass('text')){if(layoutType=='single-column'){responsiveConfig={0:{items:1,margin:10},320:{items:2,margin:10},470:{items:3,margin:10},620:{items:4,margin:10},1020:{items:5,margin:20,stagePadding:0},1340:{items:6,margin:44,stagePadding:0}};}else{responsiveConfig={0:{items:1,margin:10},320:{items:2,margin:10},470:{items:3,margin:10},620:{items:4,margin:10},1020:{items:4,margin:30,stagePadding:0},1340:{items:5,margin:29.5,stagePadding:0}};}}else if($featureContainer.hasClass('product')&&$featureContainer.hasClass('bundle')){responsiveConfig={0:{items:2,margin:10,stagePadding:2},470:{items:3,margin:10,stagePadding:2},620:{items:4,margin:10,stagePadding:2},820:{items:5,margin:10,stagePadding:2},1020:{items:6,margin:10,stagePadding:2}};}else if($featureContainer.hasClass('product')&&$featureContainer.hasClass('related')){responsiveConfig={0:{items:1,margin:10},320:{items:2,margin:10},470:{items:3,margin:10},700:{items:4,margin:10},1020:{items:5,margin:10,stagePadding:1},1340:{items:5,margin:10,stagePadding:1}};}else if($featureContainer.hasClass('product')){if(layoutType=='single-column'){responsiveConfig={0:{items:1,margin:10},320:{items:2,margin:10},530:{items:3,margin:10},700:{items:4,margin:10},1020:{items:4,margin:10,stagePadding:1},1340:{items:5,margin:10,stagePadding:1}};}else if($container.hasClass('grid')){responsiveConfig={0:{items:1,margin:10},480:{items:2,margin:10},720:{items:3,margin:10}};if($container.hasClass('ranked')){$container.find('div.image span.rank').each(function(i,el){$(el).text(i+1);});}}else{responsiveConfig={0:{items:1,margin:10},320:{items:2,margin:10},530:{items:3,margin:10},700:{items:4,margin:10},1020:{items:4,margin:10,stagePadding:1},1340:{items:4,margin:10,stagePadding:1}};}}
carouselOptions={loop:false,mouseDrag:false,lazyLoad:true,nav:true,navText:MA.utils.carouselNavText(),navRewind:false,dots:false,responsive:responsiveConfig,slideBy:'page',stagePadding:10,smartSpeed:125};var resizeTimeout;$(window).resize(function(){clearTimeout(resizeTimeout);resizeTimeout=window.setTimeout(checkMobile($container,carouselOptions),400);});if($container.hasClass('grid')){checkMobile($container,carouselOptions);}else{$container.owlCarousel(carouselOptions);}};var checkMobile=function($container,carouselOptions){if($container.hasClass('grid')){if(Modernizr.mq('(max-width: 767px)')){$container.addClass('owl-carousel');$container.owlCarousel(carouselOptions);}else{$container.trigger('destroy.owl.carousel');$container.removeClass('owl-carousel');}}};return{init:init};};MA.Rotisserie=function(){'use strict';var $container;var init=function(selectedContainer){$container=$(selectedContainer);$container.owlCarousel({loop:true,mouseDrag:false,lazyLoad:true,nav:true,navText:MA.utils.carouselNavText(),navRewind:false,dots:true,slideBy:1,items:1,autoplay:false,autoplayHoverPause:true,autoplayTimeout:4000});$container.on('changed.owl.carousel',function(){if(!window.lazyLoadInstance){return;}
window.lazyLoadInstance.update();})
if(!autoplayIfVisible()){$(window).on('scroll.ma.rotisserie',autoplayIfVisible);}};var autoplayIfVisible=function(){var visibleOffset=$(window).scrollTop()+$(window).height();if($container.offset().top<visibleOffset){$container.data('owl.carousel').settings.autoplay=true;$container.trigger('play.owl.autoplay');$(window).off('scroll.ma.rotisserie',autoplayIfVisible);return true;}
return false;};return{init:init};};MA.XboxLiveStream=function(){'use strict';var iframeDomain='https://v3.xbox-interactive.com';var $iframe;var init=function(selector){$iframe=$(selector);window.setInterval(requestIframeHeight,500);window.addEventListener('message',function(event){if(event.origin!==iframeDomain){return;}
$iframe.css('height',event.data);},false);};var requestIframeHeight=function(){$iframe[0].contentWindow.postMessage('',iframeDomain);};return{init:init};};